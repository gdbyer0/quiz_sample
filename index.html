<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <title></title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="manifest" href="site.webmanifest">
  <link rel="apple-touch-icon" href="icon.png">
  <!-- Place favicon.ico in the root directory -->

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

  <meta name="theme-color" content="#fafafa">
</head>

<body>

  <div class = "container">

    <div id="js-question" class="mt-3 alert alert-warning" role="alert">
      A simple warning alert—check it out!
    </div>

    <div class="d-flex justify-content-center">
      <button type="button" class="btn btn-secondary">Secondary</button>
      <button type="button" class="ms-2 btn btn-secondary">Secondary</button>
      <button type="button" class="ms-2 btn btn-secondary">Secondary</button>
      <button type="button" class="ms-2 btn btn-secondary">Secondary</button>
    </div>

  </div>

  <script>
    const quiz = [
  {
    question : '好きな食べ物は何ですか？',
    answers : ['ピザ', '牛乳', 'ショートケーキ',　'羊羹'],
    correct:'ピザ'
  }, {
    question : '好きな人は誰ですか？',
    answers : ['松田迅', '鶴房汐恩', '川西拓実',　'西洸人'],
    correct:'松田迅'
  }, {
    question : '好きなファミレスはどこですか？',
    answers : ['ガスト', 'ココス', 'サイゼ',　'ロイホ'],
    correct:'サイゼ'
  }
];
 
const quizLength= quiz.length;
let quizIndex = 0;
let score = 0;

const $button = document.getElementsByTagName('button');
const buttonLength = $button.length;

//クイズの問題文、選択肢を定義
const setupQuiz = () => {
  document.getElementById('js-question').textContent = quiz[quizIndex].question;
  let buttonIndex = 0;
  while(buttonIndex < buttonLength){
    $button[buttonIndex].textContent= quiz[quizIndex].answers[buttonIndex];
    buttonIndex++;
  }
}
setupQuiz();

const clickHandler = (e) => {
  if(quiz[quizIndex].correct === e.target.textContent){
    window.alert('正解！');
    score++;
  }else{
    window.alert('はずれ！');
  }

  quizIndex++;

  if(quizIndex < quizLength){
    setupQuiz();

  }else{
    window.alert('終了！あなたの正解数は' + score + '/' + quizLength +'です☺');
  }
};

//クリックしたら正誤判定
let handlerIndex = 0;
while(handlerIndex < buttonLength){
  $button[handlerIndex].addEventListener('click',(e)=>{
    clickHandler(e);
  });
  handlerIndex++;
}

  </script>
  
</body>

</html>
